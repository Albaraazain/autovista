{
    "sourceFile": "lib/screens/profile_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1733500916198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1733500916198,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:firebase_auth/firebase_auth.dart';\r\n\r\nclass ProfileScreen extends StatelessWidget {\r\n  final FirebaseAuth _auth = FirebaseAuth.instance;\r\n\r\n  ProfileScreen({Key? key}) : super(key: key); // Removed 'const'\r\n\r\n  Future<void> _logout(BuildContext context) async {\r\n    try {\r\n      await _auth.signOut();\r\n      Navigator.pushReplacementNamed(context, '/login');\r\n    } catch (e) {\r\n      ScaffoldMessenger.of(context).showSnackBar(\r\n        SnackBar(content: Text(\"Error logging out: $e\")),\r\n      );\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    final User? user = _auth.currentUser;\r\n\r\n    if (user == null) {\r\n      return Scaffold(\r\n        body: Center(\r\n          child: Text(\r\n            \"No user is currently logged in.\",\r\n            style: Theme.of(context).textTheme.bodyLarge,\r\n          ),\r\n        ),\r\n      );\r\n    }\r\n\r\n    final String name = user.displayName ?? \"Anonymous\";\r\n    final String email = user.email ?? \"No email provided\";\r\n    final String? profileImageUrl = user.photoURL;\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text(\"Profile\"),\r\n      ),\r\n      body: Center(\r\n        child: Padding(\r\n          padding: const EdgeInsets.all(16.0),\r\n          child: Column(\r\n            mainAxisAlignment: MainAxisAlignment.center,\r\n            crossAxisAlignment: CrossAxisAlignment.center,\r\n            children: [\r\n              // Profile Image\r\n              CircleAvatar(\r\n                radius: 60,\r\n                backgroundImage: profileImageUrl != null\r\n                    ? NetworkImage(profileImageUrl)\r\n                    : const AssetImage('assets/avatar_placeholder.png')\r\n                as ImageProvider,\r\n                backgroundColor: Colors.grey[200],\r\n              ),\r\n              const SizedBox(height: 16),\r\n              // User Name\r\n              Text(\r\n                name,\r\n                style: Theme.of(context).textTheme.titleLarge?.copyWith(\r\n                  fontWeight: FontWeight.bold,\r\n                ),\r\n              ),\r\n              const SizedBox(height: 8),\r\n              // User Email\r\n              Text(\r\n                email,\r\n                style: Theme.of(context).textTheme.bodyMedium?.copyWith(\r\n                  color: Colors.grey[600],\r\n                ),\r\n              ),\r\n              const SizedBox(height: 24),\r\n              // Buttons\r\n              ElevatedButton(\r\n                onPressed: () {\r\n                  Navigator.pushNamed(context, '/viewVehicle');\r\n                },\r\n                style: ElevatedButton.styleFrom(\r\n                  padding: const EdgeInsets.symmetric(\r\n                      vertical: 16, horizontal: 32),\r\n                ),\r\n                child: const Text(\"Edit Vehicle Information\"),\r\n              ),\r\n              const SizedBox(height: 16),\r\n              ElevatedButton(\r\n                onPressed: () {\r\n                  Navigator.pushNamed(context, '/viewDocuments');\r\n                },\r\n                style: ElevatedButton.styleFrom(\r\n                  padding: const EdgeInsets.symmetric(\r\n                      vertical: 16, horizontal: 32),\r\n                ),\r\n                child: const Text(\"View Scanned Documents\"),\r\n              ),\r\n              const SizedBox(height: 32),\r\n              // Log Out Button\r\n              TextButton(\r\n                onPressed: () => _logout(context),\r\n                child: const Text(\r\n                  \"Log Out\",\r\n                  style: TextStyle(\r\n                    fontSize: 16,\r\n                    fontWeight: FontWeight.bold,\r\n                    color: Colors.teal,\r\n                  ),\r\n                ),\r\n              ),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}